# Pillowで「薄い床影」を付ける実装プロンプト

以下は、背景除去済みの商品画像（Tシャツなど）に、サンプル画像のような「うっすら広がる床影」を Python（Pillow）だけで付けるための詳細設計です。

---

## 前提

- 入力画像:
  - 背景除去済みの **RGBA PNG**（商品部分は不透明、背景はアルファ0）
  - すでに「中央配置」「キャンバスサイズ統一」（例: 1200×1200）済みを想定
- 出力:
  - 商品の下側に、自然な薄い床影が入った画像（RGBA もしくは最終的に RGB）

---

## 影の見た目の要件（サンプル画像に合わせる）

- 影は服の真下に薄く広がる床影
- 方向はほぼ真下（左右にはあまりズレない）
- 長さは短めで、裾周りから左右にふわっと広がる程度
- 色は黒〜濃いグレー、不透明度はかなり低い
- エッジは完全にボケていて、硬い輪郭はない

---

## アルゴリズム概要

1. 商品画像のアルファチャンネルからシルエットマスクを取得する
2. マスクを少し下方向へオフセットし、影用レイヤーを作る
3. 影レイヤーにガウシアンぼかしをかける
4. 不透明度を下げて「うっすら」見えるように調整する
5. 背景（白など）の上に影 → 商品の順に合成する

---

## パラメータ設計の目安

画像サイズを `W × H` とするとき:

- 影の縦方向オフセット  
  - `offset_x = 0`  
  - `offset_y ≈ H * 0.03`（画像高さの 3% 程度）  
- ガウシアンぼかし半径  
  - `blur_radius ≈ H * 0.03`（2〜4% の範囲で微調整）  
- 影の最大不透明度  
  - `shadow_opacity ≈ 80〜120`（0〜255 のうち）
